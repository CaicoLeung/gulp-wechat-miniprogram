# 使用说明

建议用yarn安装依赖

## 开始使用

1. 确保已全局安装gulp

    ```bash
    npm install -g gulp gulp-cli
    ```

    ```bash
    yarn global add gulp gulp-cli
    ```

2. 安装依赖

    ```bash
    npm install
    ```

    ```bash
    yarn install
    ```

3. 创建page **(Page目录会生成{name}/index.[ts|wxss|wxmljson]文件, 并自动往app.json的"pages"添加条目)**

    ```bash
    gulp create --page [name]
    ```

4. 创建component **(Components目录会生成{name}/index.[ts|wxss|wxmljson]文件)**

    ```bash
    gulp create --component [name]
    ```

5. 如未build生成dist目录, 需先执行一次build; build后用微信开发者工具打开dist目录

    ```bash
    npm run build
    ```

    ```bash
    yarn build
    ```

6. 监听文件改动, 编写业务代码**(文件保存后会编译)**

    ```bash
    npm run watch
    ```

    ```bash
    yarn watch
    ```

## npm构建

1. 以dayjs, lodash示例, 执行以下命令(支持多个npm同时安装)

    ```bash
    yarn add_npm dayjs lodash
    ```

2. 重新构建和监听

    ```bash
    yarn build
    yarn watch
    ```

3. 点击开发者工具 - 工具 - 构建npm完成构建并使用

    + js 中引入 npm 包：

      ```javascript
      const dayjs = require('dayjs')
      const _ = require('lodash')
      ```

    + ts 中引入 npm 包：

      ```typescript
      import dayjs from 'dayjs'
      import _ from 'lodash'
      ```

    + 使用 npm 包中的自定义组件：

      ```json
      {
        "usingComponents": {
          "myPackage": "packageName",
          "package-other": "packageName/other"
        }
      }
      ```
